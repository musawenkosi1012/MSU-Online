apiVersion: 1.1
component:
  # Type of the component: service, webhook, or scheduled-task
  type: service

  # Base image is handled by Dockerfile, but name is useful
  name: msu-online-backend

  # Build configuration
  build:
    context: backend
    dockerfile: Dockerfile

  # Endpoint configuration
  endpoints:
    - name: backend-api
      service:
        port: 8080
      type: REST
      network:
        visibility: Public
      healthCheck:
        path: /health
        initialDelaySeconds: 10
        periodSeconds: 10

  # Environment Variables
  env:
    - name: USE_MOCK_LLM
      value: "false"
    - name: DATABASE_URL
      value: "sqlite:////app/data/unstoppable_minds.db"
    - name: PORT
      value: "8080"
